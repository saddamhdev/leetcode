ржЪрж▓рзЛ ржПржмрж╛рж░ **max depth** ржПржХржжржо **step by step dry run** ржХрж░рзЗ ржжрзЗржЦрж┐ тАУ рждрж╛рж╣рж▓рзЗ recursion ржЖрж░ depth ржжрзБржЯрзЛржЗ crystal clear рж╣ржмрзЗ ЁЯСЗ

---

## 1я╕ПтГг ржЖржорж░рж╛ ржпрзЗ function ржЯрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм (Java)

```java
int maxDepth(TreeNode root) {
    if (root == null) return 0;

    int left  = maxDepth(root.left);
    int right = maxDepth(root.right);

    return 1 + Math.max(left, right);
}
```

---

## 2я╕ПтГг ржЙржжрж╛рж╣рж░ржг ржЧрж╛ржЫ (Binary Tree)

ржзрж░рзЛ ржЖржорж╛ржжрзЗрж░ tree ржЯрж╛ ржПржоржи:

```text
        1
       / \
      2   3
     / \
    4   5
```

* `1` тЖТ root
* `2, 3` тЖТ level 2
* `4, 5` тЖТ level 3

ржПржЗ tree-ржПрж░ **max depth = 3** (ржХрж╛рж░ржг longest path: `1 тЖТ 2 тЖТ 4` ржмрж╛ `1 тЖТ 2 тЖТ 5`)

ржПржЦржи ржЖржорж░рж╛ ржжрзЗржЦрзЗ ржжрзЗржЦрж┐ **recursion ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ**ред

---

## 3я╕ПтГг Step-by-step: Function Call Flow

ржЖржорж░рж╛ рж╢рзБрж░рзБ ржХрж░рж┐:

### ЁЯФ╣ Step 1: `maxDepth(1)`

* `root = 1` (null ржирж╛, рждрж╛ржЗ base case ржирж╛)
* ржУржЦрж╛ржирзЗ:

  * `left  = maxDepth(1.left)` тЖТ ржЕрж░рзНржерж╛рзО `maxDepth(2)`
  * `right = maxDepth(1.right)` тЖТ ржЕрж░рзНржерж╛рзО `maxDepth(3)`

So ржПржЦржи ржЖржорж░рж╛ ржкрзНрж░ржержорзЗ `maxDepth(2)` ржПрж░ ржнрж┐рждрж░рзЗ ржврзБржХржмред

---

### ЁЯФ╣ Step 2: `maxDepth(2)`

ржПржЦржи ржЖржорж░рж╛ node `2` ржП ржЖржЫрж┐ред

* `root = 2`
* рж╣рж┐рж╕рж╛ржм:

  * `left  = maxDepth(2.left)` тЖТ `maxDepth(4)`
  * `right = maxDepth(2.right)` тЖТ `maxDepth(5)`

**ржЖржЧрзЗ рж▓рзЗржлрзНржЯрзЗ ржпрж╛ржЗ тЖТ `maxDepth(4)`**

---

### ЁЯФ╣ Step 3: `maxDepth(4)` (Leaf node)

* `root = 4`
* `4.left` = null тЖТ `maxDepth(null)`
* `4.right` = null тЖТ `maxDepth(null)`

#### ЁЯСЙ Step 3.1: `maxDepth(null)` (left of 4)

* `root == null` тЖТ return `0`

#### ЁЯСЙ Step 3.2: `maxDepth(null)` (right of 4)

* `root == null` тЖТ return `0`

ржПржЦржи 4 ржПрж░ ржЬржирзНржп:

```text
left  = 0
right = 0
return 1 + max(0, 0) = 1
```

тЪб ржорж╛ржирзЗ: **node 4 ржПрж░ subtree-ржПрж░ depth = 1**

---

### ЁЯФ╣ Step 4: `maxDepth(5)` (ржЖрж░рзЗржХржЯрж╛ leaf)

ржПржХржЗ pattern:

* `5.left` тЖТ null тЖТ 0
* `5.right` тЖТ null тЖТ 0

So:

```text
left  = 0
right = 0
return 1 + max(0, 0) = 1
```

тЪб **node 5 ржПрж░ subtree depth = 1**

---

### ЁЯФ╣ Step 5: ржлрж┐рж░рзЗ ржЖрж╕рж┐ `maxDepth(2)` ржП

ржПржЦржи рзи ржиржорзНржмрж░ node рждрж╛рж░ leftтАУright depth ржжрзБржЯрзЛржЗ ржкрзЗрзЯрзЗ ржЧрзЗржЫрзЗ:

```text
left  = maxDepth(4) = 1
right = maxDepth(5) = 1

return 1 + max(1, 1) = 1 + 1 = 2
```

тЪб **node 2 ржПрж░ subtree depth = 2**

(ржорж╛ржирзЗ: `2 тЖТ 4` ржмрж╛ `2 тЖТ 5`, ржорзЛржЯ 2 рж▓рзЗржнрзЗрж▓)

---

### ЁЯФ╣ Step 6: ржПржЦржи ржпрж╛ржЗ `maxDepth(3)` ржП

node `3` ржПрж░ ржЬржирзНржп:

* `3.left` тЖТ null тЖТ `maxDepth(null)` тЖТ 0
* `3.right` тЖТ null тЖТ `maxDepth(null)` тЖТ 0

So:

```text
left  = 0
right = 0
return 1 + max(0, 0) = 1
```

тЪб **node 3 ржПрж░ subtree depth = 1**

---

### ЁЯФ╣ Step 7: ржПржЦржи ржЖржмрж╛рж░ ржлрж┐рж░рж▓рж╛ржо root-ржП тЖТ `maxDepth(1)`

ржПржЦржи root `1` рждрж╛рж░ ржжрзБржЗ ржжрж┐ржХрзЗ depth ржЬрж╛ржирзЗ:

```text
left  = maxDepth(2) = 2
right = maxDepth(3) = 1

return 1 + max(2, 1) = 1 + 2 = 3
```

тЬЕ Final Answer: **max depth = 3**

---

## 4я╕ПтГг ржПржХ рж▓рж╛ржЗржи intuition (ржоржирзЗ рж░рж╛ржЦрж╛рж░ shortcut)

ржкрзНрж░рждрж┐ржЯрж╛ ржирзЛржб ржЖрж╕рж▓рзЗ ржмрж▓рзЗ:

> тАЬржЖржорж╛рж░ left subtree ржпржд ржЧржнрзАрж░ ржЖрж░ right subtree ржпржд ржЧржнрзАрж░ тАУ
> рждрж╛ржжрзЗрж░ ржоржзрзНржпрзЗ ржпрзЗржЯрж╛ ржмрзЗрж╢рж┐, рждрж╛рж░ ржерзЗржХрзЗ **рзз ржмрзЗрж╢рж┐** ржЖржорж╛рж░ depthредтАЭ

ржЖрж░ recursion ржпрж╛ ржХрж░рзЗ:

1. **ржЧржнрзАрж░ ржкрж░рзНржпржирзНржд ржирж╛ржорзЗ** (leaf ржкрж░рзНржпржирзНржд)
2. рждрж╛рж░ржкрж░ **ржЙржкрж░рзЗрж░ ржжрж┐ржХрзЗ ржлрзЗрж░рж╛рж░ рж╕ржорзЯ** ржПржХржЯрж╛ ржПржХржЯрж╛ ржХрж░рзЗ +1 ржпрзЛржЧ рж╣рзЯ
3. рж╕ржмрж╢рзЗрж╖рзЗ root ржерзЗржХрзЗ full depth ржмрзЗрж░ рж╣рзЯ

---

## ржЪрж╛ржЗрж▓рзЗ ржЖрж░рзЗржХржЯрж╛ tree ржирж┐рзЯрзЗ ржПржХржЗржнрж╛ржмрзЗ dry run ржХрж░рж╛рждрзЗ ржкрж╛рж░рж┐

ржпржжрж┐ ржЪрж╛ржУ, рждрзБржорж┐ ржПржХржЯрж╛ ржирждрзБржи tree ржПржнрж╛ржмрзЗ рж▓рж┐ржЦрзЗ ржжрж╛ржУ:

```text
    10
   /  \
  5    20
      /
     15
```

ржЖржорж┐ ржУржЯрж╛рж░ржУ `maxDepth` recursion **step by step** ржХрж░рзЗ ржжрзЗржЦрж┐рзЯрзЗ ржжрж┐ржм ЁЯЩВ
